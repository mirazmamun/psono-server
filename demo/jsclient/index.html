<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS Client</title>

    <!-- SCrypt and sha512 are mandatory -->
    <script src="libs/scrypt/browser/scrypt.js" type="text/javascript"></script>
    <script src="//crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha512.js" type="text/javascript"></script>
    <script src="client.js" type="text/javascript"></script>

    <!-- JQuery is only used to manipulate the output of the basic functions -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>


    <!-- Helper functions to call the actual functions with form parameters and display the output -->
    <script type="text/javascript">

        function helper() {
            $('#logintoken').val(generate_login_token($('#email').val(), $('#password')));
        }

        function helper2() {
            // TODO
        }


    </script>

    <!-- Just some Styles, not necessary :D  -->
    <style>
        section {
            margin:10px;
        }
        section h2 {
            margin-left: -10px;
        }

    </style>

</head>
<body>
<form>
    <h2>JS Client</h2>
    <p>This is a small demo client for the password manager in js</p>
    <hr>

    <section>
        <h2>Step 1</h2>
        <p>Email and password are taken to generate the login token</p>
        <h4>INPUT: </h4>
        <label for="email">E-Mail: </label><input size="30" type="email" name="email" id="email" value="Test@test.com">
        <label for="password">Password: </label><input size="30" type="text" name="password" id="password" value="myPassword">
        <br/>
        <INPUT type="button" name="button" value="1. Generate Login Token generate_login_token(email, password)" onClick="helper()" id="submit"/>
        <br/>
        <h4>OUTPUT: </h4>
        <label for="logintoken">Logintoken: </label>
        <br/>
        <textarea rows="4" cols="60" name="logintoken" id="logintoken" readonly></textarea>
        <br/>
        <small>It should bethe following for "Test@test.com" and "myPassword":<br/>83b75ba167d1f93a643566fa7824424e0cab780f47d2d1a668e7ba42fa9f42622d09412b371bd7fd73ead1ceec612ccf5dfd61571c9cde0556bc0cd2126d62c3</small>
    </section>

    <hr>

    <section>
        <h2>Step 2</h2>
        <p>Email and login token (from step 1) are used to get the encrypted data blob (keystorage) from the server</p>

        <INPUT type="button" name="button" value="2. Query the server for the keystorage get_encrypted_keystorage(email, login_token)" onClick="helper2()" id="submit"/>

    </section>

</form>

</body>
</html>
